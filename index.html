<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Al-Maymunah — Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond&family=Amiri&display=swap" rel="stylesheet">

<!-- YOUR CSS -->
<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ===== HEADER / LOGO ===== -->
<header>
  <img src="https://raw.githubusercontent.com/millahibrahim148-ops/almaymunah/d69b007b25bfaec809bc9382222712702c9e104a/icon%20image/maktabat%20almaymunah.gif"
       class="site-logo" alt="Al-Maymunah">
</header>

<!-- ===== NAVIGATION (EXTENDABLE) ===== -->
<nav>
  <ul>
    <li><a href="index.html">Home</a></li>

    <li>
      <a href="library.html">
        <img src="https://raw.githubusercontent.com/millahibrahim148-ops/almaymunah/refs/heads/main/icon%20image/books-xxl.png"
             style="width:16px;vertical-align:middle;margin-right:6px">
        Library
      </a>
    </li>

    <li><a href="articles.html">Articles</a></li>

    <!-- YOU CAN ADD MORE LI ITEMS HERE LATER -->
  </ul>
</nav>

<!-- ===== PAGE LAYOUT ===== -->
<div class="container">

  <!-- ===== MAIN CONTENT ===== -->
  <main>

    <!-- SEARCH PANEL -->
    <div class="panel search">
      <input id="searchInput" type="text" placeholder="Search articles or tags…">
    </div>

    <!-- ARTICLES -->
    <div id="articleList"></div>

  </main>

  <!-- ===== RIGHT SIDEBAR ===== -->
  <aside class="right-sidebar">

    <div class="panel">
      <div class="section-title">Current Page</div>
      <div class="small">
        <strong>Al-Maymunah</strong><br>
        Upon the Manhaj of the Salaf<br>
        Hanbali • Athari<br><br>
        <strong>Home</strong>
      </div>
    </div>

    <div class="panel">
      <div class="section-title">Tags</div>
      <div class="badges" id="tagList"></div>
    </div>

    <div class="panel quote">
      “Knowledge is not by memorization, but by light which Allāh places in the heart.”
      <div class="small">— Imam Mālik</div>
    </div>

  </aside>

</div>

<!-- ===== SCRIPT ===== -->
<script>
const articles = [
  {
    title: "Seeking Knowledge Upon the Sunnah",
    desc: "The foundations of sincerity and correct methodology.",
    tags: ["Manhaj", "Ilm"],
    link: "articles/seeking-knowledge.html",
    date: "2025-01-01"
  },
  {
    title: "The Danger of Innovation",
    desc: "Why the Salaf warned strongly against bid‘ah.",
    tags: ["Bidah", "Salaf"],
    link: "articles/bidah.html",
    date: "2025-01-05"
  }
];

const list = document.getElementById("articleList");
const search = document.getElementById("searchInput");
const tagList = document.getElementById("tagList");

function renderArticles(filter="") {
  list.innerHTML = "";

  articles
    .filter(a =>
      a.title.toLowerCase().includes(filter) ||
      a.tags.join(" ").toLowerCase().includes(filter)
    )
    .forEach(a => {
      const div = document.createElement("div");
      div.className = "panel";
      div.style.cursor = "pointer";
      div.onclick = () => location.href = a.link;

      div.innerHTML = `
        <div style="display:flex;justify-content:flex-end;font-size:13px;color:#6b4f3a;gap:8px">
          <span>${new Date(a.date).toLocaleDateString()}</span>
          ${a.tags.map(t=>`
            <span style="display:flex;align-items:center;gap:4px">
              <img src="https://freesvg.org/img/Folder-1.png" style="width:14px">
              ${t}
            </span>
          `).join("")}
        </div>

        <h3 style="font-family:'Amiri',serif;margin:6px 0">${a.title}</h3>
        <p>${a.desc}</p>
      `;
      list.appendChild(div);
    });
}

function renderTags() {
  const tags = [...new Set(articles.flatMap(a=>a.tags))];
  tags.forEach(t=>{
    const a = document.createElement("a");
    a.className = "badge";
    a.textContent = t;
    a.href = "#";
    a.onclick = e => {
      e.preventDefault();
      search.value = t.toLowerCase();
      renderArticles(t.toLowerCase());
    };
    tagList.appendChild(a);
  });
}

search.addEventListener("input", e => {
  renderArticles(e.target.value.toLowerCase());
});

renderArticles();
renderTags();
</script>

</body>
</html>
