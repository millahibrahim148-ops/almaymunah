<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hilyah Ṭālib al-ʿIlm</title>
  <link href="https://fonts.googleapis.com/css2?family=Amiri&family=Amiri+Quran&family=Cormorant+Garamond&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: "Cormorant Garamond", serif;
      background: #fdfbf6;
      color: #2f2f2f;
      line-height: 1.6;
      font-size: 18px;
    }

    header {
      text-align: center;
      padding: 25px 20px;
      background: linear-gradient(180deg, #fdfbf6, #f2e9d8);
      border-bottom: 1px solid #c8b48c;
      box-shadow: inset 0 2px 6px rgba(255,255,255,0.7), 0 3px 10px rgba(0,0,0,0.15);
    }
    header img {
      max-width: 320px;
      border-radius: 8px;
      display: block;
      margin: 0 auto 12px;
    }
    header h1 {
      font-family: "Amiri", serif;
      font-size: 42px;
      font-weight: 400;
      color: #3a2b1a;
    }
    header p {
      font-size: 18px;
      color: #5c4b36;
      margin-top: 8px;
    }

    /* Buttons under header */
    .top-buttons {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 15px;
      align-items: center;
    }
    .top-buttons a, .top-buttons button {
      text-decoration: none;
      padding: 10px 18px;
      background: linear-gradient(180deg, #fff, #f0e8da);
      border: 1px solid #c8b48c;
      border-radius: 8px;
      box-shadow: inset 0 2px 4px rgba(255,255,255,0.8), 0 3px 6px rgba(0,0,0,0.15);
      font-size: 16px;
      color: #3a2b1a;
      transition: transform 0.15s, background 0.2s;
      cursor: pointer;
    }
    .top-buttons a:hover, .top-buttons button:hover {
      transform: scale(1.05);
      background: #fdfbf6;
    }

    /* Search bar */
    .searchbar {
      padding: 8px 12px;
      border: 1px solid #c8b48c;
      border-radius: 6px;
      font-size: 16px;
      background: #fffefb;
    }

    /* Dropdown categories */
    .dropdown {
      position: relative;
      display: inline-block;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      background: #fffdf9;
      border: 1px solid #c8b48c;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      min-width: 240px;
      z-index: 1000;
      text-align: left;
      padding: 10px;
    }
    .dropdown-content button {
      display: block;
      width: 100%;
      text-align: left;
      background: linear-gradient(180deg, #fdfbf6, #efe3cd);
      border: 1px solid #d9c7a4;
      border-radius: 6px;
      margin: 6px 0;
      padding: 8px;
      cursor: pointer;
      font-size: 15px;
    }
    .dropdown-content button:hover {
      background: #f7e8c9;
    }
    .dropdown:hover .dropdown-content {
      display: block;
      animation: slideIn 0.3s ease forwards;
    }

    /* Container with sidebars */
    .container {
      display: flex;
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
      gap: 20px;
    }

    /* Sidebar left */
    .sidebar-left {
      width: 220px;
      background: linear-gradient(180deg, #fbf7ef, #f3e9d6);
      border: 1px solid rgba(0,0,0,0.08);
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      height: fit-content;
    }
    .sidebar-left h2 {
      font-size: 20px;
      margin-bottom: 12px;
      color: #3a2b1a;
      border-bottom: 1px solid #d9c7a4;
      padding-bottom: 5px;
    }
    .sidebar-left a {
      display: block;
      padding: 8px 10px;
      margin-bottom: 8px;
      background: linear-gradient(180deg, #fdfbf6, #efe3cd);
      border: 1px solid #d9c7a4;
      border-radius: 6px;
      color: #3a2b1a;
      text-decoration: none;
      font-size: 15px;
      transition: background 0.2s;
    }
    .sidebar-left a:hover {
      background: #f7e8c9;
    }

    /* Sidebar right */
    .sidebar-right {
      width: 260px;
      background: linear-gradient(180deg, #fbf7ef, #f3e9d6);
      border: 1px solid rgba(0,0,0,0.08);
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      max-height: 600px;
      overflow-y: auto;
    }
    .sidebar-right h2 {
      font-size: 20px;
      margin-bottom: 12px;
      color: #3a2b1a;
      border-bottom: 1px solid #d9c7a4;
      padding-bottom: 5px;
    }
    .chapter { margin-bottom: 10px; }
    .chapter a {
      display: block;
      padding: 6px 10px;
      border-radius: 6px;
      text-decoration: none;
      color: #3a2b1a;
      font-size: 16px;
    }
    .chapter a:hover { background: #f7e8c9; }

    main {
      flex: 1;
      background: #fffdf9;
      padding: 25px;
      border: 1px solid #e4d8c2;
      border-radius: 12px;
      box-shadow: 0 3px 12px rgba(0,0,0,0.1);
    }

    .verse { margin-bottom: 28px; }
    .verse .arabic {
      font-family: "Amiri Quran", serif;
      font-size: 28px;
      text-align: right;
      color: #2c1f0f;
      margin-bottom: 10px;
    }
    .verse .translation {
      font-size: 18px;
      color: #3f2e1d;
      background: #fbf7ef;
      padding: 10px;
      border-left: 3px solid #d9c7a4;
      border-radius: 6px;
    }

    .foreword-arabic {
      font-family: "Amiri Quran", serif;
      font-size: 24px;
      text-align: right;
      color: #2c1f0f;
      margin: 15px 0;
    }

    /* Controls */
    .controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin: 20px 0;
    }
    .controls button {
      font-size: 18px;
      padding: 8px 16px;
      background: linear-gradient(180deg, #fff, #f0e8da);
      border: 1px solid #c8b48c;
      border-radius: 8px;
      cursor: pointer;
    }
    .controls input {
      padding: 8px;
      font-size: 16px;
      width: 50px;
      text-align: center;
      border: 1px solid #c8b48c;
      border-radius: 6px;
      background: #fffefb;
    }

    footer {
      text-align: center;
      padding: 15px;
      border-top: 1px solid #d9c7a4;
      background: linear-gradient(180deg, #fdfbf6, #f2e9d8);
      font-size: 15px;
      color: #6b5a45;
      margin-top: 40px;
    }

    /* Modal */
    .modal { display: none; position: fixed; z-index: 999; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); }
    .modal-content {
      background: #fffdf9;
      margin: 8% auto;
      padding: 20px;
      border: 1px solid #c8b48c;
      border-radius: 10px;
      width: 60%;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      transform: translateY(-30px);
      opacity: 0;
      animation: slideIn 0.3s ease forwards;
    }
    .close { float: right; font-size: 24px; cursor: pointer; color: #3a2b1a; }

    @keyframes slideIn { to { transform: translateY(0); opacity: 1; } }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <img src="https://github.com/millahibrahim148-ops/almaymunah/blob/main/hilyah%20thalib%20al%20ilm%20image?raw=true" alt="Book Banner">
    <h1>Hilyah Ṭālib al-ʿIlm</h1>
    <p>English Translation of the Book Ettiquettes of a Student on Seeking Knowledge</p>

    <div class="top-buttons">
      <input type="text" class="searchbar" placeholder="Search on this page..." id="searchInput">
      <a href="https://drive.google.com/file/d/10bM2vTZQF2D6icaWGPSO3o7uVxotVGGu/view?usp=sharing" target="_blank" rel="noopener">Download Book PDF</a>

      <div class="dropdown">
        <button>Categories</button>
        <div class="dropdown-content" aria-hidden="true">
          <button>(Arabic Book) Hilyaatu thaalib al-ʿIlm</button>
          <button>(Arabic Book) Syarh by Ibn Uthaymin</button>
        </div>
      </div>

      <a href="#" onclick="openModal()">Description of the Book</a>
    </div>
  </header>

  <!-- Container -->
  <div class="container">
    <!-- Sidebar Left -->
    <aside class="sidebar-left">
      <h2>Navigation</h2>
      <a href="index.html">Home</a>
      <a href="library.html">Library</a>
      <a href="article.html">Articles</a>
      <a href="#">Audio</a>
      <a href="#">About</a>
    </aside>

    <!-- Main -->
    <main id="mainContent">
      <div class="controls">
        <button onclick="prevPage()">&lt;</button>
        <input type="text" id="pageNumberTop" value="1" onkeydown="pageNumberKey(event, 'top')">
        <button onclick="nextPage()">&gt;</button>
      </div>

      <h2 id="translator">Translator's Foreword</h2>
      <p>
        All praise is due to Allaah alone; we praise Him, seek His aid and seek His forgiveness.
        We seek refuge in Him from the evil of our inner-selves and the evil of our actions.
        Whomsoever Allaah guides no one can misguide and whomsoever Allaah misguides no one can guide.
        I bear witness that there is no deity worthy of worship except Allaah and I bear witness that Muhammad is His slave and messenger.
      </p>

      <div class="foreword-arabic">
        يَتَأَيُّهَا الَّذِينَ ءَامَنُوا اتَّقُوا اللَّهَ حَقَّ تُقَائِهِ، وَلَا تَمُوتُنَّ إِلَّا وَأَنتُم مُسْلِمُونَ
      </div>
      <p>"O you who believe! Fear Allaah as He should be feared, and die not except in a state of Islaam." <br>[Soorah Aal-Imraan (3):102]</p>

      <div class="foreword-arabic">
        يَأَيُّهَا النَّاسُ اتَّقُوا رَبَّكُمُ الَّذِي خَلَقَكُم مِّن نَّفْسٍ وَاحِدَةٍ وَخَلَقَ مِن زَوْجَهَا وَبَثَّ مِنْهُمَا رِجَالًا كَثِيرًا وَنِسَاء وَاتَّقُوا اللَّهَ الَّذِي تَسَاءَلُونَ بهِ وَالْأَرْحَامَ إِنَّ اللَّهَ كَانَ عَلَيْكُمْ رَقِيبًا
      </div>
      <p>"O mankind! Be dutiful to your Lord, Who created you from a single person and from him He created his wife and from them both He created many men and women; and fear Allaah through whom you demand (your mutual rights), and (do not cut the relations of) the wombs (kinship). Surely, Allaah is Ever an All-Watcher over you." <br>[Soorah an-Nisaa (4):1]</p>

      <div class="foreword-arabic">
        يَأَيُّهَا الَّذِينَ ءَامَنُوا اتَّقُوا اللَّهَ وَقُولُوا قَوْلًا سَدِيدًا يُصْلِحْ لَكُمْ أَعْمَالَكُمْ وَيَغْفِرْ لَكُمْ ذُنُوبَكُمْ وَمَن يُطِعِ اللَّهَ وَرَسُولَهُ فقد فاز فوزا عظيما
      </div>
      <p>"O you who believe! Keep your duty to Allaah and fear Him, and speak always the truth. He will direct you to do righteous good deeds and will forgive you your sins. And whosoever obeys Allaah and His messenger he has indeed achieved a great achievement." <br>[Soorah al-Ahzaab (33):70-71]</p>

      <div class="controls">
        <button onclick="prevPage()">&lt;</button>
        <input type="text" id="pageNumberBottom" value="1" onkeydown="pageNumberKey(event, 'bottom')">
        <button onclick="nextPage()">&gt;</button>
      </div>
    </main>

    <!-- Sidebar Right -->
    <aside class="sidebar-right">
      <h2>Chapters</h2>
      <div class="chapter"><a href="#translator">Translator's Foreword</a></div>
      <!-- other chapters removed to focus on this chapter (per your request) -->
    </aside>
  </div>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Al Maymunah. All rights reserved.</p>
  </footer>

  <!-- Modal -->
  <div id="descriptionModal" class="modal">
    <div class="modal-content" id="modalBox">
      <span class="close" onclick="closeModal()">&times;</span>
      <h2>Description of the Book</h2>
      <p><strong>The Book:</strong> Hilyah Ṭālib al-ʿIlm - Ettiquettes of a student on seeking knowledge</p>
      <p><strong>Author:</strong> Bakr bin Abdullah Abu Zaid (d. 1429 AH)</p>
      <p><strong>Publisher:</strong> Dar al-Asima, Riyadh</p>
      <p><strong>Edition:</strong> First, 1416 AH</p>
      <p><strong>Number of pages:</strong> 97</p>
    </div>
  </div>

  <script>
    // Keep original main HTML so search can restore it
    const mainEl = document.getElementById('mainContent');
    const originalMainHTML = mainEl.innerHTML;

    // Search: press Enter in the search input to highlight matches on the page
    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        searchPage();
      }
    });

    function escapeRegExp(string) {
      return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }

    function searchPage() {
      const q = searchInput.value.trim();
      if (!q) {
        // restore original content
        mainEl.innerHTML = originalMainHTML;
        // reassign event handlers lost by replacing innerHTML (page number inputs & controls)
        reattachPageInputHandlers();
        return;
      }
      const regex = new RegExp(escapeRegExp(q), 'gi');
      const replaced = originalMainHTML.replace(regex, (match) => `<span style="background:#f7e8c9">${match}</span>`);
      mainEl.innerHTML = replaced;
      reattachPageInputHandlers();
    }

    // Reattach page-number input handlers (after search replaces innerHTML)
    function reattachPageInputHandlers() {
      const topInput = document.getElementById('pageNumberTop');
      const bottomInput = document.getElementById('pageNumberBottom');
      if (topInput) topInput.onkeydown = (e) => pageNumberKey(e, 'top');
      if (bottomInput) bottomInput.onkeydown = (e) => pageNumberKey(e, 'bottom');
      // reassign prev/next buttons if necessary (they use inline onclick so safe)
    }

    // Page number input behaviour: press Enter to navigate to that page number
    function pageNumberKey(e, which) {
      if (e.key === 'Enter') {
        const val = parseInt(document.getElementById(which === 'top' ? 'pageNumberTop' : 'pageNumberBottom').value, 10);
        if (!isNaN(val)) {
          if (val === 1) {
            // already on page 1 — just ensure focus/scroll
            location.hash = '#translator';
          } else if (val === 2) {
            // navigate to page2 (adjust URL if you store pages elsewhere)
            window.location.href = 'page2.html';
          } else {
            alert('Page ' + val + ' not available yet.');
          }
        }
      }
    }

    // Prev / Next behaviour: next navigates to page2.html; prev shows alert
    function nextPage() {
      // change this URL to wherever your page 2 actually lives (GitHub raw or your server)
      window.location.href = 'hilyah-thalib-al-ilm-/translator foreword/page2.html';
    }
    function prevPage() {
      alert('No previous page.');
    }

    // Modal open/close
    function openModal() {
      document.getElementById("descriptionModal").style.display = "block";
    }
    function closeModal() {
      document.getElementById("descriptionModal").style.display = "none";
    }
    window.onclick = function(event) {
      const modal = document.getElementById("descriptionModal");
      if (event.target == modal) {
        closeModal();
      }
    };

    // ensure input handlers exist if user manipulates DOM
    reattachPageInputHandlers();
  </script>
</body>
</html>
